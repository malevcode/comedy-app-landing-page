<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ComedyGenius - The Ultimate App for Comedians</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>ComedyGenius: Elevate Your Comedy Career</h1>
    
    <!-- Open Mic Finder Section -->
    <div class="feature" id="openMicFinder">
        <h2>üé§ Open Mic Finder</h2>
        <p>Discover open mics and shows in your area with ease. Never miss an opportunity to perform and hone your craft.</p>
        <div id="openMicResults">
            <input type="text" id="searchInput" placeholder="Search open mics by location or time">
            <ul id="micList"></ul>
        </div>
    </div>

    <!-- Other App Features Coming in 2025 -->
    <div class="feature">
        <h2>üéôÔ∏è Smart Transcription</h2>
        <p>Automatically transcribe your performances with joke identifiers. Analyze your material and track your progress over time.</p>
    </div>

    <div class="feature">
        <h2>üïµÔ∏è Parallel Thinking Analysis</h2>
        <p>Discover which famous comedians your style is most similar to, identify overlapping bits, and develop your own unique voice.</p>
    </div>

    <div class="feature">
        <h2>üìÖ Comedy Calendar</h2>
        <p>Plan your mics, shows, and social media posts all in one place. Stay organized and never double-book yourself again.</p>
    </div>

    <div class="feature">
        <h2>üé¨ Content Creator</h2>
        <p>Edit and create reels and TikTok content directly in the app. Share your best bits effortlessly.</p>
    </div>

    <div class="feature">
        <h2>üìà Comedy Progress Tracker</h2>
        <p>Track your comedy career progress with our unique system. Gain points every time you perform, and watch your status rise!</p>
    </div>

    <!-- Functional Form for Collecting Interest -->
    <div class="cta">
        <h2>Sign Up for Early Access to ComedyGenius</h2>
        <p>Join the waitlist and be among the first to use ComedyGenius when it launches in 2025!</p>
        <form id="interestForm">
            <input type="email" id="email" placeholder="Your Email" required>
            <input type="text" id="instagram" placeholder="Instagram Handle" required>
            <input type="number" id="yearsComedy" placeholder="Years in Comedy">
            <input type="number" id="micsPerMonth" placeholder="Open Mics per Month">
            <input type="number" id="moneySpent" placeholder="Money Spent on Mics (monthly)">
            <button type="submit">Join the Waitlist</button>
        </form>
        <p id="formResponse"></p>
    </div>

    <script>
        // Fetch Open Mic Data from Google Sheets
        async function fetchOpenMicData() {
            const response = await fetch('https://script.google.com/macros/s/AKfycbzQSs13Dzy95c79u9AeUirspzxHLYCzzhFy7WjFeHEWHAIHbUPI5qez0dbEo8RKSRL8/exec');
            const data = await response.json();
            displayOpenMics(data);
        }

        function displayOpenMics(mics) {
            const micList = document.getElementById('micList');
            micList.innerHTML = ''; // Clear any existing data

            mics.forEach(mic => {
                const micItem = document.createElement('li');
                micItem.textContent = `${mic.day} - ${mic.location} - ${mic.time} - $${mic.cost}`;
                micList.appendChild(micItem);
            });
        }

        // Search functionality for Open Mic Finder
        document.getElementById('searchInput').addEventListener('input', function() {
            const searchValue = this.value.toLowerCase();
            const micItems = document.querySelectorAll('#micList li');
            
            micItems.forEach(item => {
                const text = item.textContent.toLowerCase();
                if (text.includes(searchValue)) {
                    item.style.display = '';
                } else {
                    item.style.display = 'none';
                }
            });
        });

        // Call the function to fetch data on page load
        document.addEventListener('DOMContentLoaded', fetchOpenMicData);

        // Submit Form Data to Google Sheets Script
        document.getElementById('interestForm').addEventListener('submit', async function(event) {
            event.preventDefault();

            const email = document.getElementById('email').value;
            const instagram = document.getElementById('instagram').value;
            const yearsComedy = document.getElementById('yearsComedy').value;
            const micsPerMonth = document.getElementById('micsPerMonth').value;
            const moneySpent = document.getElementById('moneySpent').value;

            const response = await fetch('https://script.google.com/macros/s/AKfycbzQSs13Dzy95c79u9AeUirspzxHLYCzzhFy7WjFeHEWHAIHbUPI5qez0dbEo8RKSRL8/exec', {
                method: 'POST',
                body: JSON.stringify({
                    email,
                    instagram,
                    yearsComedy,
                    micsPerMonth,
                    moneySpent
                }),
                headers: {
                    'Content-Type': 'application/json'
                }
            });

            const result = await response.json();
            document.getElementById('formResponse').textContent = result.message || 'Thank you for signing up!';
        });
    </script>
</body>
</html>
